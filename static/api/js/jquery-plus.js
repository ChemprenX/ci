(function(d){d.extend({isIE6:function(){return !-[1,]&&!window.XMLHttpRequest},cookie:function(g,k,j){var e={expires:1,domain:document.domain,path:"/"},f=d.extend(e,j),h=document.cookie.split("; "),l="",i=new Date();if(!arguments.length){return}fn={setCookie:function(m,n){i.setTime(i.getTime()+(f.expires*24*60*60*1000));l=encodeURIComponent(m)+"="+encodeURIComponent(n)+";expires="+i.toUTCString()+";domain="+f.domain+";path="+f.path;document.cookie=l},getCookie:function(m){d.each(h,function(n,o){if(decodeURIComponent(o.split("=")[0])===m){l=decodeURIComponent(o.split("=")[1])}});return l},removeCookie:function(m){this.setCookie(m,1,f.expires=-1)}};if(!/undefined/.test(typeof k)){if(/string|number/.test(typeof k)){fn.setCookie(g,k)}else{if(d.isPlainObject(k)){d.each(k,function(m,n){if(/expires/.test(m)&&n===-1){fn.removeCookie(g)}})}else{return}}}else{return fn.getCookie(g)}}});var b=["DOMMouseScroll","mousewheel"];if(d.event.fixHooks){for(var a=b.length;a;){d.event.fixHooks[b[--a]]=d.event.mouseHooks}}d.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=b.length;e;){this.addEventListener(b[--e],c,false)}}else{this.onmousewheel=c}},teardown:function(){if(this.removeEventListener){for(var e=b.length;e;){this.removeEventListener(b[--e],c,false)}}else{this.onmousewheel=null}}};function c(j){var h=j||window.event,g=[].slice.call(arguments,1),k=0,i=true,f=0,e=0;j=d.event.fix(h);j.type="mousewheel";if(h.wheelDelta){k=h.wheelDelta/120}if(h.detail){k=-h.detail/3}e=k;if(h.axis!==undefined&&h.axis===h.HORIZONTAL_AXIS){e=0;f=-1*k}if(h.wheelDeltaY!==undefined){e=h.wheelDeltaY/120}if(h.wheelDeltaX!==undefined){f=-1*h.wheelDeltaX/120}g.unshift(j,k,f,e);return(d.event.dispatch||d.event.handle).apply(this,g)}d.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)},tab:function(h){var e={type:"mouseover",triggerClass:"current",tab:"ul:first > li",panelClass:"panel",defaultPanel:0,asyn:{state:false,url:"a.php",type:"get",dataType:"json",data:[],error:function(){},success:function(j,i){}},slideTab:{trigger:".factor",sliding:false,vertical:false,speed:300},opacity:false,delay:200},g=null,f=d.extend(e,h);f.delay=f.type==="click"?0:f.delay;g=function(m){var l=m.length,k=0,j={};for(;k<l;k++){j[m[k].split("=")[0]]=m[k].split("=")[1]}return j};return this.each(function(s,n){var r=d(n).find(f.tab),q=d(n).find("."+f.panelClass),k,i=0,l="left",o={},m=null,p=null,j=null;k=f.opacity===true?600:0;f.slideTab.sliding===true?(f.slideTab.vertical===true?(i=r.eq(0).outerHeight(),l="top"):i=r.eq(0).outerWidth()):0;m=function(t){o[l]=i*t;return o};p=function(x){var v=f.asyn.data,u=v[x],w="",t={};r.eq(f.defaultPanel).attr("data-j-tab",1);r.eq(x).addClass(f.triggerClass).siblings().removeClass(f.triggerClass);d(n).find(f.slideTab.trigger).animate(m(x),f.slideTab.speed);if(f.asyn.state===true&&r.eq(x).attr("data-j-tab")!=="1"&&u!==0){w=f.asyn.url.split(",").length===1?f.asyn.url.split(",")[0]:f.asyn.url.split(",")[x];t=u.indexOf("&")>-1?g(u.split("&")):g(u.split());d.ajax({url:w,type:f.asyn.type,data:t,dataType:f.asyn.dataType,error:function(){f.asyn.error(q.eq(x))},success:function(y){r.eq(x).attr("data-j-tab",1);f.asyn.success(q.eq(x),y)}})}q.eq(x).fadeIn(k).siblings("."+f.panelClass).hide()};p(f.defaultPanel);r.bind(f.type,function(){var t=d(this).index();clearTimeout(j);j=setTimeout(function(){p(t)},f.delay)});r.mouseout(function(){clearTimeout(j);j=null})})},slide:function(h){var e={animate:false,vertical:false,leftButton:".left_button",rightButton:".right_button",trigger:false,triggerClass:"current",type:"mouseover",dataAttr:"title",dataPanel:".text",auto:true,speed:300,time:3000},g=d.extend(e,h),f=200;f=g.type==="click"?0:f;return this.each(function(w,q){var i=d(q).find("ul:first"),r=d(q).find("ul:first > li"),u=d(q).find("ul:last > li"),t=d(q).find("img"),m=r.length,k=null,v=null,x=r.eq(0).height(),n="top",p=1,s=0,j=0;if(g.trigger===true){var l=d(q).find("ul:last");r.each(function(o){if(!o){l.append(d("<li>").text(1).addClass(g.triggerClass))}else{l.append(d("<li>"+(o+1)+"</li>"))}});u=l.children()}if(g.leftButton&&g.rightButton){d(document).on({click:function(o){var y=d(o.target);v.clearTimer();if(y.closest(g.leftButton).length>0&&p){p=0;s===0?v.moveTo(s=m-1):v.moveTo(--s)}else{if(y.closest(g.rightButton).length>0&&p){p=0;s===m-1?v.moveTo(s=0):v.moveTo(++s)}}},mouseout:function(){v.auto()}},g.leftButton+","+g.rightButton)}v={moveTo:function(o){s=o;j=-o*x;u.eq(o).addClass(g.triggerClass).siblings().removeClass(g.triggerClass);d(g.dataPanel).html(t.eq(o).attr(g.dataAttr));if(g.animate===true){this.anim()}else{i.css(n,j)}},anim:function(){var o={};o[n]=j;i.animate(o,g.speed,function(){p=1})},auto:function(){var o=this;this.clearTimer();k=setInterval(function(){s===m-1?s=0:s++;o.moveTo(s)},g.time)},start:function(){this.clearTimer();if(g.auto===true){this.auto()}},clearTimer:function(){clearTimeout(k);clearInterval(k);k=null}};u.bind(g.type,function(){var o=d(this).index();v.clearTimer();k=setTimeout(function(){v.moveTo(o)},f)});u.mouseout(function(){v.start()});r.bind({mouseover:function(){v.clearTimer()},mouseout:function(){v.start()}});if(g.animate===true){if(g.vertical!==true){n="left";x=r.eq(0).width();i.css("width",m*x)}}v.start()})},loopScroll:function(g){var e={amount:1,speed:300,time:3000,leftButton:".roll_lbtn",rightButton:".roll_rbtn",operate:function(){},vertical:false,auto:true},f=d.extend(e,g);return this.each(function(t,n){var u=d(n).find("ul:first"),w=d(n).find("li"),j=w.length,s=f.vertical===true?"height":"width",o=0,r=1,x=1,p,m,l,h,v,k,q,i;d(n).css(s,9999);if(f.vertical===true){h=u.innerHeight();k="top";v=d(n).parent().height()}else{h=u.innerWidth();k="left";v=d(n).parent().width()}l=parseInt(h/j)*f.amount;m=parseInt(h/l);if(h<=v){return}u.clone(true).insertAfter(u);q={clearTimer:function(){clearInterval(i);i=null},moveTo:function(y){if(y>m){o=y=1;d(n).css(k,0)}else{if(y<0){o=y=m-1;d(n).css(k,-l*m)}}p=-l*y;this.anim()},anim:function(){var y={};y[k]=p;d(n).animate(y,f.speed,function(){r=x=1;f.operate(o,m)})},auto:function(){var y=this;i=setInterval(function(){y.moveTo(++o)},f.time)},start:function(){this.clearTimer();if(f.auto===true){this.auto()}}};d(n).bind({mouseover:function(){q.clearTimer()},mouseout:function(){q.start()}});d(document).on({click:function(y){var z=d(y.target);if(z.closest(f.leftButton).length>0){if(r){r=0;q.moveTo(--o)}}else{if(z.closest(f.rightButton).length>0){if(x){x=0;q.moveTo(++o)}}}q.clearTimer()},mouseover:function(){q.clearTimer()},mouseout:function(){q.start()}},f.leftButton+","+f.rightButton);q.start()})},textScroll:function(h){var f={panel:"li:first",time:3000,speed:600,vertical:true},g=d.extend(f,h),j=d.isIE6();if(j){try{document.execCommand("BackgroundImageCache",false,true)}catch(i){}}return this.each(function(p,n){var e=null,r=d(n).find(g.panel),q=r.height(),k=r.width(),l=r.siblings().andSelf().length,o,m={};if(q*l<=d(n).height()||k*l<=d(n).width()){return}if(g.vertical===true){o="marginTop";m[o]=-r.height()}else{o="marginLeft";m[o]=-r.width()}d(n).hover(function(){clearInterval(e)},function(){e=setInterval(function(){var s=d(n).find(g.panel);s.animate(m,g.speed,function(){s.css(o,0).appendTo(r.parent())})},g.time)}).trigger("mouseleave")})},smartShow:function(g){var e={url:"a.php",panel:".smart-item",param:"key",dataWrap:"li",dataType:"json",wrapClass:"current",success:function(){},operate:function(){}},f=d.extend(e,g);return this.each(function(k,o){var m=d(f.panel),l={},i,h=null,n=false,j=-1;d(o).attr("data-smart",true);d(f.panel).attr("data-smartpanel",true);h=function(p){d.ajax({type:"get",url:f.url,data:f.param+"="+p,dataType:f.dataType,success:function(r){if(r){f.success(r);n=true;j=-1;var q=d(f.panel).children();if(q.length){q.bind({mouseover:function(){j=d(this).index();d(this).addClass(f.wrapClass).siblings().removeClass(f.wrapClass)},click:function(){d(o).val(d(this).html());d(f.panel).hide();n=false;f.operate(j,d(this).html())}})}}}})};d(o).bind({keydown:function(){i=d(o).val()},keyup:function(s){var r=m.find(f.dataWrap),u=s.keyCode,t=d(o).val(),p={},q=r.length;p={moveTo:function(v){if(v<0){j=v=q-1}if(v>q-1){j=v=0}r.eq(v).addClass(f.wrapClass).siblings().removeClass(f.wrapClass);d(o).val(r.eq(v).html())}};if(u===38){if(!n){return}p.moveTo(--j);return false}else{if(u===40){if(!n){return}p.moveTo(++j);return false}else{if(u===13){d(f.panel).hide();n=false;f.operate(j,r.eq(j).html());return false}}}if(i!=t&&t!=""){h(t)}if(t==""){d(f.panel).hide()}},focus:function(){var p=d(o).val();if(i!=p&&p!=""){h(p)}}});d(document).bind("click",function(p){var q=d(p.target);if(q.attr("data-smart")!="true"&&q.parent().attr("data-smartpanel")!="true"){d(f.panel).hide();n=false;j=-1}})})},toPlace:function(f,j){var e={top:100,bottom:100,animate:false,speed:0},h=d.extend(e,j),g=d(window).height(),i=d(document).height();return this.each(function(k,m){var n=h.animate===true?"slow":0,l={back:function(){var o;o=f==="top"?0:i;d("body, html").animate({scrollTop:o},h.speed)},roll:function(o){d(window).bind("scroll",function(){var q=d(this).scrollTop(),p=q+g;if(o==="top"){if(q>h.top){d(m).fadeIn(n)}else{if(q<50){d(m).fadeOut(n)}}}else{if(i-p>h.bottom){d(m).fadeIn(n)}else{if(i-p<50){d(m).fadeOut(n)}}}})}};d(m).bind("click",function(){l.back()});if(f==="top"){l.roll(f)}else{if(f==="bottom"){l.roll(f)}}})},loopSlide:function(h){var e={vertical:false,opacity:false,trigger:false,leftButton:".left_button",rightButton:".right_button",triggerClass:"current",type:"mouseover",dataAttr:"title",dataPanel:".text",auto:true,speed:400,time:3000},g=d.extend(e,h),f=200;f=g.type==="click"?0:f;return this.each(function(z,r){var s=d(r).children().eq(0).children(),t=s.eq(0),x=d(r).children().eq(1).children(),w=d(r).find("img"),m=s.length,k=null,q={},v={},y=null,n="left",p=1,j=0,u=0,i=0;if(g.trigger===true){var l=d(r).find("ul:last");s.each(function(o){if(!o){l.append(d("<li>").text(1).addClass(g.triggerClass))}else{l.append(d("<li>"+(o+1)+"</li>"))}});x=l.children()}if(g.vertical===true){i=t.height();n="top"}else{i=t.width()}if(g.leftButton&&g.rightButton){d(document).on({click:function(o){var A=d(o.target);y.clearTimer();if(A.closest(g.leftButton).length>0&&p){p=0;u===0?y.moveTo(u=m-1):y.moveTo(--u)}else{if(A.closest(g.rightButton).length>0&&p){p=0;u===m-1?y.moveTo(u=0):y.moveTo(++u)}}},mouseout:function(){y.auto()}},g.leftButton+","+g.rightButton)}s.each(function(o,A){if(o){if(g.opacity!==true){d(A).css("position","absolute").css(n,i);q[n]=-i;v[n]=0}else{d(A).css("opacity",0);q["opacity"]=0;v["opacity"]=1}}});y={clearTimer:function(){clearTimeout(k);clearInterval(k);k=null},moveTo:function(o){u=o;x.eq(o).addClass(g.triggerClass).siblings().removeClass(g.triggerClass);d(g.dataPanel).html(w.eq(o).attr(g.dataAttr));this.anim()},anim:function(){var o=j;if(u>=m-1){j=m-1}else{j=u}if(o!==j){s.eq(o).css({zIndex:1}).animate(q,g.speed,function(){p=1;if(g.opacity!==true){s.eq(o).css(n,i)}});s.eq(j).css({position:"absolute",zIndex:2}).animate(v,g.speed)}},start:function(){y.clearTimer();if(g.auto===true){this.auto()}},auto:function(){var o=this;this.clearTimer();k=setInterval(function(){u>=m-1?u=0:u++;o.moveTo(u)},g.time)}};x.bind(g.type,function(){var o=d(this).index();y.clearTimer();k=setTimeout(function(){y.moveTo(o)},f)});x.mouseout(function(){y.start()});s.bind({mouseover:function(){y.clearTimer()},mouseout:function(){y.start()}});y.start()})},dialog:function(f){var i={title:"¶Ô»°¿ò",content:"hello world !",container:".dialog-bd",close:".dialog-close",confirm:".dialog-confirm",cancel:".dialog-cancel",opacity:0.1,operate:function(){},animate:false,mask:true},q=d.extend(i,f);this.find(q.container).html(q.content);var r=d(document).height(),n=this.height(),g=this.width(),m=d(document).scrollTop()+d(window).height()/2-n/2,h=d(document).width()/2-g/2,k={position:"absolute",top:0,left:0,width:"100%",height:r,backgroundColor:"#000",opacity:0,filter:"alpha(opacity="+q.opacity*100+")",zIndex:100000000},e={display:"block",position:"absolute",top:m-30,left:h,overflow:"hidden",zIndex:100000001},l=null,o=this,j="tinkerMask"+(+new Date()),p=d('<div id="'+j+'">');l={showMask:function(){p.appendTo(d("body")).css(k)},anim:function(t,s){p.animate({opacity:s},500);o.animate({top:t,opacity:1},400,"linear")},showDialog:function(){o.css(e);if(q.animate===true){if(q.mask===true){this.showMask();this.anim(m,q.opacity)}else{this.anim(m)}}else{if(q.mask===true){k.opacity=q.opacity;this.showMask();o.css("top",m)}else{o.css("top",m)}}},closeDialog:function(t){var s=function(){if(t){q.operate(j)}};if(q.animate===true){o.animate({top:e.top,opacity:0},600,function(){o.css({display:"none"});s()});d("#"+j).animate({opacity:0},200,function(){d("#"+j).remove()})}else{o.hide();d("#"+j).remove();s()}}};l.showDialog();this.drag({operate:function(s){e.top=s.top-30}});this.bind("click",function(t){var v=d(t.target),u=v.hasClass(q.close.slice(1))||q.close.slice(1)===v.attr("id")||v.hasClass(q.cancel.slice(1))||q.cancel.slice(1)===v.attr("id"),s=v.hasClass(q.confirm.slice(1))||q.confirm.slice(1)===v.attr("id");if(u){l.closeDialog();o.unbind("click")}else{if(s){l.closeDialog(q.operate);o.unbind("click")}}})},drag:function(g){var e={parent:true,operate:undefined},f=d.extend(e,g);return this.each(function(n,j){var p=d(j).height(),k=d(j).width(),m=d(j).offsetParent(),i,l={top:0,left:0},h,o;d(j).css({position:"absolute"});if(m.css("position").toLowerCase()==="relative"||m.css("position").toLowerCase()==="absolute"){h=m.width();o=m.height()}else{h=d(window).width();o=d(document).height()}diffWidth=h-k-2;diffHeight=o-p-2;i=f.parent===true?d(j).children().eq(0):d(j);i.bind("mousedown",function(t){var s=f.parent===true?d(this).parent():d(this),v=s.position().left,u=s.position().top,w=t.pageX-v,r=t.pageY-u,q=0;if(s.get(0).setCapture){s.get(0).setCapture()}d(document).bind({mousemove:function(x){var z=x.pageX-w,y=x.pageY-r;q=1;if(z<0){z=0}if(z>=diffWidth){z=diffWidth}if(y<0){y=0}if(y>=diffHeight){y=diffHeight}l.left=z;l.top=y;d(j).css({top:y,left:z})},mouseup:function(){if(d(j).get(0).releaseCapture){d(j).get(0).releaseCapture()}d(this).unbind("mousemove mouseup");if(typeof f.operate=="function"&&q){f.operate({top:l.top,left:l.left})}}});return false})})},monitor:function(h,g){var e={dirWrap:".catalog",listWrap:"li",triggerClass:"current",opacity:false,disTop:{minTop:0,maxTop:9999},speed:400,animate:true},f=d.extend(e,g);f.speed=f.animate===true?f.speed:0;return this.each(function(r,m){var n=d(m).find(h),k=d(f.dirWrap).find(f.listWrap),q=[],i=0,j=0,o=null,p=null,l=null;d.each(n,function(s,u){var t=Math.ceil(d(u).offset().top);q[s]=t;k.eq(s).data("dataTop",t)});i=q.length;j=f.opacity===true?400:0;p=function(t){var s=parseInt(t.data("dataTop"));d("body, html").animate({scrollTop:s},f.speed)};l=function(){var s=o,t=0,u=d(window).scrollTop();if(u>=q[i-1]){o=k.eq(i-1)}else{for(;t<i-1;t++){if(u>=q[t]&&u<q[t+1]){o=k.eq(t);break}}}if(u<f.disTop.minTop||u>f.disTop.maxTop){d(f.dirWrap).hide()}else{d(f.dirWrap).fadeIn(j)}if(s!==o){if(s){s.removeClass(f.triggerClass)}o.addClass(f.triggerClass)}};d(f.dirWrap).bind("click",function(t){var s=d(t.target).closest(f.listWrap);if(s.get(0).nodeName.toLowerCase()===f.listWrap){p(s)}});d(window).bind("scroll",l)})},scrollBar:function(g){var e={content:".conBox",bar:".bar",preButton:".prebtn",nextButton:".nextbtn",vertical:true},f=d.extend(e,g);return this.each(function(x,n){var o=d(n).find(f.content),r=d(n).find(f.bar),l=d(n).find(f.preButton),i=d(n).find(f.nextButton),v=r.offsetParent(),q=o.offsetParent(),w=o.width()-q.width(),u=o.height()-q.height(),m,h,k="left",s="width",p,j,t=null;if(f.vertical===true){m=u;k="top";s="height",p=q.height()/o.height();j=Math.max(20,v.height()*p)}else{m=w;p=q.width()/o.width();j=Math.max(20,v.width()*p)}if(p>=1){v.parent().hide();return false}r.css(s,j);if(f.vertical===true){h=v.height()-r.height()}else{h=v.width()-r.width()}t={scrollPos:function(B){var z,y={},A={};if(B<0){B=0}if(B>=h){B=h}y[k]=B;r.css(y);p=B/h;z=-p*m;A[k]=z;o.css(A)}};r.bind("mousedown",function(z){var B=d(this).position().left,A=d(this).position().top,C=z.clientX-B,y=z.clientY-A;if(d(this).get(0).setCapture){d(this).get(0).setCapture()}d(document).bind({mousemove:function(E){var G=E.clientX-C,F=E.clientY-y,D;D=f.vertical===true?F:G;t.scrollPos(D)},mouseup:function(){if(r.get(0).releaseCapture){r.get(0).releaseCapture()}d(this).unbind("mousemove mouseup")}});return false});l.click(function(){var y=r.position()[k];t.scrollPos(y-10)});i.click(function(){var y=r.position()[k];t.scrollPos(y+10)});d(n).mousewheel(function(y,A){var z=r.position()[k];A>0?t.scrollPos(z-10):t.scrollPos(z+10);y.preventDefault()})})},checkValue:function(){return this.each(function(f,g){var e=d.trim(d(g).val());d(g).attr("data-j-vid",0);d(g).bind({keyup:function(){d(this).attr("data-j-vid",1)},focus:function(){var h=d.trim(d(this).val());if(h===e&&d(this).attr("data-j-vid")==="0"){d(this).val("")}},blur:function(){var h=d.trim(d(this).val());if(h===""){d(this).val(e).attr("data-j-vid",0)}}})})}})})(jQuery);


